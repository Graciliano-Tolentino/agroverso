System.register(["./react-vendor-legacy-DHjJIiN4.js","./index-legacy-DAe9emYE.js","./vendor-legacy-VVuW3tU1.js","./AvisoRedirecionamento-legacy-ApcyBr0b.js","./FormInput-legacy-Bv3T59Dn.js","./Button-legacy-CtfefWKh.js"],(function(e,s){"use strict";var a,t,r,o,i,n,l,c,d,m,x;return{setters:[e=>{a=e.r,t=e.j,r=e.R,o=e.u},e=>{i=e.A},e=>{n=e._,l=e.i,c=e.P},e=>{d=e.default},e=>{m=e.F},e=>{x=e.B}],execute:function(){e("default",(function(){const{isAuthenticated:e,user:s,logout:r}=a.useContext(i),n=o(),[l,c]=a.useState({nome:"",curso:"",data:(new Date).toLocaleDateString("pt-BR"),qrCodeUrl:""}),[g,u]=a.useState(!1),[f,j]=a.useState(""),[p,b]=a.useState(!1);if(a.useEffect((()=>{if(!e){b(!0);const e=setTimeout((()=>n("/login")),2e3);return()=>clearTimeout(e)}}),[e,n]),p)return t.jsx(d,{mensagem:"üîí Acesso negado. Redirecionando para login..."});const v=e=>{c({...l,[e.target.name]:e.target.value}),j("")};return t.jsx("section",{className:"min-h-screen px-6 py-20 bg-gray-50 font-opensans",children:t.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-8 md:p-12 rounded-2xl shadow-xl",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Sess√£o ativa: ",t.jsx("span",{className:"text-green-700 font-bold",children:s?.email})]}),t.jsx("button",{onClick:r,"aria-label":"Encerrar sess√£o",className:"mt-4 md:mt-0 text-sm text-red-600 hover:text-red-800 font-medium transition",children:"Sair da sess√£o"})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-10",children:[t.jsxs("form",{onSubmit:e=>{e.preventDefault();const{nome:s,curso:a,data:t,qrCodeUrl:r}=l;if(!(s&&a&&t&&r))return j("‚ö†Ô∏è Preencha todos os campos antes de gerar o certificado."),void u(!1);u(!0),j("");const o=document.createElement("div");o.innerText="‚úÖ Certificado gerado com sucesso!",o.className="fixed top-6 right-6 bg-green-600 text-white px-6 py-3 rounded shadow-lg text-sm animate-fadeInOut z-50",document.body.appendChild(o),setTimeout((()=>{document.body.removeChild(o)}),2500)},className:"md:w-1/2 space-y-4",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2",children:"üìÑ Gerar Certificado Digital"}),f&&t.jsx("div",{className:"bg-red-100 text-red-700 px-4 py-2 rounded text-sm",children:f}),t.jsx(m,{label:"Nome completo",name:"nome",value:l.nome,onChange:v,required:!0}),t.jsx(m,{label:"Nome do curso",name:"curso",value:l.curso,onChange:v,required:!0}),t.jsx(m,{label:"Data de emiss√£o",name:"data",value:l.data,onChange:v,required:!0}),t.jsx(m,{label:"URL do QR Code",name:"qrCodeUrl",value:l.qrCodeUrl,onChange:v,required:!0}),t.jsx(x,{type:"submit",variant:"primary",ariaLabel:"Gerar certificado digital",children:"Gerar Certificado"})]}),t.jsx("div",{className:"md:w-1/2 overflow-x-auto",children:g&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-4 mt-2",children:"‚úÖ Certificado gerado abaixo."}),t.jsx(h,{nome:l.nome,curso:l.curso,data:l.data,qrCodeUrl:l.qrCodeUrl})]})})]})]})})}));const g=r.lazy((async()=>{const e=await n((()=>s.import("./react-vendor-legacy-DHjJIiN4.js").then((e=>e.n))),void 0);return{default:e.QRCode||e.default||(()=>null)}})),u=a.memo((({value:e,size:s=128,fgColor:r="#000000",bgColor:o="#ffffff",level:i="H",className:n="",fallbackMessage:l="Carregando QR Code...",...c})=>e&&"string"==typeof e?t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"text-gray-500 text-sm italic",children:l}),children:t.jsx(g,{value:e,size:s,fgColor:r,bgColor:o,level:i,className:n,...c})}):t.jsx("div",{className:"text-red-600 text-sm italic",children:"QR Code inv√°lido ‚Äî valor ausente ou malformado."}))),h=({nome:e,curso:s,data:a,emitidoEm:r,codigoAssinadoJWT:o,orgaoEmissor:i="Agroverso"})=>{const n=e=>e&&e.trim()||"DADO N√ÉO FORNECIDO",c=`https://certificados.agroverso.tec.br/validar?token=${o}`;return t.jsxs(t.Fragment,{children:[t.jsxs("article",{id:"certificate",role:"document",className:"font-opensans bg-white text-grayIntelligent p-8 sm:p-12 mx-auto my-4 shadow-lg max-w-3xl",children:[t.jsxs("header",{className:"text-center mb-8",children:[t.jsx("img",{src:"/assets/images/logo.png",alt:"Logotipo da Agroverso",className:"mx-auto mb-4 h-16 sm:h-20",loading:"lazy"}),t.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-green-700",children:"Certificado"})]}),t.jsxs("section",{className:"mb-6",children:[t.jsxs("p",{className:"text-lg text-center mb-4",children:["Certificamos que ",t.jsx("span",{className:"font-bold",children:n(e)})," concluiu o curso"," ",t.jsx("span",{className:"font-bold",children:n(s)})," em"," ",t.jsx("span",{className:"font-bold",children:n(a)}),"."]}),t.jsx("p",{className:"text-center text-base italic text-grayIntelligent",children:"Parab√©ns por cultivar conhecimento e sabedoria em nossa plataforma."})]}),t.jsx("section",{className:"text-center text-xs text-gray-500 mb-6",children:t.jsxs("p",{children:["Emitido por ",t.jsx("strong",{children:i})," em ",t.jsx("strong",{children:n(r)})]})}),t.jsxs("aside",{className:"text-center mb-8",children:[t.jsx(u,{value:c}),t.jsx("p",{className:"mt-2 text-sm text-grayIntelligent",children:"Escaneie o QR Code ou acesse:"}),t.jsx("p",{className:"text-xs text-blue-600 underline mt-1 break-all",children:t.jsx("a",{href:c,target:"_blank",rel:"noreferrer",children:c})})]}),t.jsxs("footer",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 text-center",children:[t.jsxs("div",{children:[t.jsx("img",{src:"/assets/images/signature1.png",alt:"Assinatura de Vin√≠cius Almeida",className:"mx-auto mb-2 h-12 sm:h-16",loading:"lazy"}),t.jsx("p",{className:"font-semibold",children:"Vin√≠cius Almeida"}),t.jsx("p",{className:"text-sm text-grayIntelligent",children:"Diretor Executivo, Agroverso"})]}),t.jsxs("div",{children:[t.jsx("img",{src:"/assets/images/signature2.png",alt:"Assinatura de Mariana Silva",className:"mx-auto mb-2 h-12 sm:h-16",loading:"lazy"}),t.jsx("p",{className:"font-semibold",children:"Mariana Silva"}),t.jsx("p",{className:"text-sm text-grayIntelligent",children:"Instrutora Respons√°vel"})]})]})]}),t.jsx("div",{className:"text-center mt-6",children:t.jsx("button",{onClick:()=>{const s=document.getElementById("certificate");s?l().set({margin:.5,filename:`Certificado - ${n(e)}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{format:"a4",orientation:"portrait"}}).from(s).save():alert("Erro: Certificado n√£o pode ser exportado. Elemento n√£o encontrado.")},className:"bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded",children:"Exportar PDF"})})]})};h.propTypes={nome:c.string.isRequired,curso:c.string.isRequired,data:c.string.isRequired,emitidoEm:c.string.isRequired,codigoAssinadoJWT:c.string.isRequired,orgaoEmissor:c.string}}}}));
