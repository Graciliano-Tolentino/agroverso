const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-QL6kDygQ.js","assets/vendor-DEgGNhlE.js","assets/react-vendor-CeVJx1TZ.js","assets/Button-DFrael_q.js","assets/SobrePage-Crn-ywaf.js","assets/ContatoPage-CkvoWs5K.js","assets/FormInput-BZq_3rVR.js","assets/CertificadosPage-DdQqldHH.js","assets/ValidarPage-DgK_88AI.js","assets/AdminRelatoriosPage-CNLlibVO.js","assets/AdminCursosPage-D356ckzN.js","assets/AdminPage-C2kpfJyT.js","assets/AvisoRedirecionamento-CBtZwTVX.js","assets/AdminDashboardPage-M3iITTdY.js","assets/DefaultLayout-ETKIADNR.js","assets/AdminLayout-BFsxYXjj.js"])))=>i.map(i=>d[i]);
var e;function t(){import.meta.url,import("_").catch((()=>1)),async function*(){}().next()}import{r as a,j as r,u as o,L as s,R as n,b as i,N as l,d as c,e as d,f as u,B as m,h as g}from"./react-vendor-CeVJx1TZ.js";import{g as p,j as h,v as f,_ as x,P as v,A as y,m as j}from"./vendor-DEgGNhlE.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const w="agroverso_token",b="agroverso_user",_=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("Token inválido: é necessário uma string JWT.");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error("Usuário inválido: é necessário um objeto JSON.");localStorage.setItem(w,e),localStorage.setItem(b,JSON.stringify(t))},k=()=>localStorage.getItem(w),S=()=>{localStorage.removeItem(w),localStorage.removeItem(b)},E=p.create({baseURL:"https://api.agroverso.tec.br/internal",withCredentials:!0}),N=(e,t=60)=>{try{const a=h(e),r=Math.floor(Date.now()/1e3);return a.exp<=r+t}catch(a){return!0}};let A=!1,P=[];const I=async()=>{try{const e=await E.post("/auth/refresh",{},{withCredentials:!0}),{token:t,user:a}=e.data;if(!t||!a)throw new Error("Resposta inválida ao renovar token");return _(t,a),t}catch(e){return S(),null}};E.interceptors.request.use((async e=>{let t=k();if(t&&N(t)){if(!A){A=!0;try{const e=await I();t=e,(e=>{P.forEach((t=>t(e))),P=[]})(e)}catch(a){}finally{A=!1}}return new Promise((t=>{var a;a=a=>{a&&(null==e?void 0:e.headers)&&(e.headers.Authorization="Bearer ".concat(a)),t(e)},P.push(a)}))}return t&&(null==e?void 0:e.headers)&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),E.interceptors.response.use((e=>e),(async e=>{var t;const a=e.config;if(401===(null==(t=e.response)?void 0:t.status)&&!a._retry){a._retry=!0;try{const e=await I();if(e)return a.headers.Authorization="Bearer ".concat(e),E(a)}catch(r){}}return Promise.reject(e)}));const L={login:async(e,t)=>{if(!e||"string"!=typeof e)throw new Error("Email inválido");if(!t||"string"!=typeof t)throw new Error("Senha inválida");const a=await E.post("/auth/login",{email:e,senha:t}),{token:r,user:o}=a.data;if(!r||N(r))throw new Error("Token inválido ou expirado");return _(r,o),{token:r,user:o}},logout:()=>{S()},me:async()=>(await E.get("/auth/me")).data,refreshToken:I,axiosInstance:E};const R=a.createContext(void 0);R.displayName="AuthContext";const O=({children:e})=>{const[t,o]=a.useState((()=>{try{const e=localStorage.getItem(b);return e?JSON.parse(e):null}catch(e){return null}})()),[s,n]=a.useState(k()),[i,l]=a.useState(!!k()),[c,d]=a.useState(!0),[u,m]=a.useState(null),[g]=a.useState((()=>f()));a.useEffect((()=>{(async()=>{if(!k())return S(),l(!1),void d(!1);try{{const e=await L.me();o(e),l(!0)}}catch(e){h(!1)}finally{d(!1)}})()}),[g]);const p=async(e,t)=>{d(!0),m(null);try{{const{token:a,user:r}=await L.login(e,t);_(a,r),n(a),o(r),l(!0)}}catch(a){m(a.message||"Erro ao fazer login."),l(!1)}finally{d(!1)}},h=(e=!0)=>{var t;null==(t=L.logout)||t.call(L),S(),o(null),n(null),l(!1),m(null)},x=a.useMemo((()=>Object.freeze({user:t,token:s,isAuthenticated:i,loading:c,error:u,login:p,logout:h,setError:m,traceId:g})),[t,s,i,c,u,g]);return r.jsx(R.Provider,{value:x,children:e})};function D(){const{login:e,isAuthenticated:t,error:n,loading:i,setError:l}=a.useContext(R),[c,d]=a.useState({email:"",senha:""}),u=o();a.useEffect((()=>(t&&u("/admin"),()=>{l(null)})),[t,u,l]);const m=e=>{const{name:t,value:a}=e.target;d((e=>({...e,[t]:a}))),n&&l(null)};return r.jsx("main",{className:"min-h-screen flex items-center justify-center bg-gradient-to-tr from-green-50 via-white to-green-100 p-6",children:r.jsxs("section",{className:"bg-white shadow-2xl rounded-2xl px-8 py-10 w-full max-w-md animate-fade-in",children:[r.jsxs("h1",{className:"text-3xl font-extrabold text-center text-green-700 mb-6 tracking-tight",children:["Acesso Administrativo – ",r.jsx("span",{className:"text-green-500",children:"Agroverso"})]}),n&&r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-4 text-sm","aria-live":"polite",role:"alert",children:["⚠️ ",n]}),r.jsxs("form",{onSubmit:async t=>{t.preventDefault(),c.email&&c.senha?await e(c.email,c.senha):l("Por favor, preencha todos os campos.")},className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-semibold mb-1",children:"E-mail"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"username",value:c.email,onChange:m,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 transition"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"senha",className:"block text-gray-700 font-semibold mb-1",children:"Senha"}),r.jsx("input",{id:"senha",name:"senha",type:"password",autoComplete:"current-password",value:c.senha,onChange:m,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-400 transition"})]}),r.jsx("button",{type:"submit",disabled:i,className:"w-full font-bold py-2 rounded-lg text-white transition duration-200 ".concat(i?"bg-green-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),"aria-busy":i,children:i?"Entrando...":"Entrar"})]}),r.jsxs("div",{className:"text-center text-sm text-gray-500 mt-6",children:["Não tem uma conta?"," ",r.jsx(s,{to:"/register",className:"text-green-600 font-medium hover:underline",children:"Cadastre-se"})]}),r.jsx("div",{className:"text-center mt-4",children:r.jsx(s,{to:"/",className:"text-xs text-gray-400 hover:text-green-600 transition","aria-label":"Voltar para a página inicial",children:"← Voltar para o site"})})]})})}const T=()=>r.jsx("section",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center p-8",children:[r.jsx("img",{src:"/assets/images/logo_agroverso.png",alt:"Logotipo da Agroverso",className:"w-20 mx-auto",loading:"eager"}),r.jsx("h1",{className:"text-4xl text-greenRegenerative font-montserrat mt-4",children:"404 - Página não encontrada"}),r.jsx("p",{className:"text-gray-700 font-opensans mt-2 mb-6",children:"Desculpe, a página que você procura não existe ou foi movida."}),r.jsx(s,{to:"/",className:"inline-block bg-greenRegenerative text-white font-opensans font-semibold py-2 px-4 rounded hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-greenRegenerative focus:ring-offset-2 focus:ring-offset-gray-50",children:"Voltar à Página Inicial"})]})}),C=n.lazy((()=>x((()=>import("./HomePage-QL6kDygQ.js")),__vite__mapDeps([0,1,2,3])))),V=n.lazy((()=>x((()=>import("./SobrePage-Crn-ywaf.js")),__vite__mapDeps([4,2,1])))),z=n.lazy((()=>x((()=>import("./ContatoPage-CkvoWs5K.js")),__vite__mapDeps([5,2,1,6,3])))),U=n.lazy((()=>x((()=>import("./CertificadosPage-DdQqldHH.js")),__vite__mapDeps([7,2,1])))),M=n.lazy((()=>x((()=>import("./ValidarPage-DgK_88AI.js")),__vite__mapDeps([8,2,1])))),F=[{index:!0,element:r.jsx(C,{})},{path:"/sobre",element:r.jsx(V,{})},{path:"/contato",element:r.jsx(z,{})},{path:"/certificados",element:r.jsx(U,{})},{path:"/validar/:codigo",element:r.jsx(M,{})},{path:"/login",element:r.jsx(D,{})},{path:"*",element:r.jsx(T,{})}];function B(e="default",t={}){a.useEffect((()=>{const a=(new Date).toISOString();!function(){try{(new Date).toISOString();Math.random().toString(36).substring(2,10),Date.now().toString(36),navigator.userAgent,navigator.language}catch(e){}}(0,{contexto:e,timestamp:a,...t})}),[e,t])}function q(){const{t:e}=i(),{logEvent:t}=B("admin:usuarios"),[o,s]=a.useState([]),[n,l]=a.useState(!0);return a.useEffect((()=>{t("admin_usuarios_view",{timestamp:Date.now(),origem:"Admin > Usuários"});const e=setTimeout((()=>{s([{id:1,nome:"João da Silva",email:"joao@agroverso.tec.br",papel:"Administrador",ativo:!0},{id:2,nome:"Ana Beatriz",email:"ana@agroverso.tec.br",papel:"Moderadora",ativo:!1},{id:3,nome:"Carlos Eduardo",email:"carlos@agroverso.tec.br",papel:"Usuário",ativo:!0}]),l(!1)}),800);return()=>clearTimeout(e)}),[]),n?r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",role:"status",children:e("geral.carregando","Carregando usuários...")}):r.jsxs("section",{className:"p-6 space-y-6",role:"region","aria-label":e("usuarios.aria.secao","Painel de usuários cadastrados"),children:[r.jsxs("header",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 card-heading",children:e("usuarios.titulo","Usuários")}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300 card-body",children:e("usuarios.descricao","Gerencie permissões, status e acesso de usuários.")})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-900 rounded-lg shadow-md","aria-label":e("usuarios.aria.tabela"),children:[r.jsx("caption",{className:"text-left text-sm text-gray-500 dark:text-gray-400 mb-2",children:e("usuarios.legenda","Tabela com dados dos usuários do sistema")}),r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-4 py-2 text-left",children:e("usuarios.coluna.nome")}),r.jsx("th",{scope:"col",className:"px-4 py-2 text-left",children:e("usuarios.coluna.email")}),r.jsx("th",{scope:"col",className:"px-4 py-2 text-left",children:e("usuarios.coluna.papel")}),r.jsx("th",{scope:"col",className:"px-4 py-2 text-left",children:e("usuarios.coluna.status")})]})}),r.jsx("tbody",{children:o.map((t=>r.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700","data-testid":"usuario:linha-".concat(t.id),children:[r.jsx("td",{className:"px-4 py-2 text-gray-800 dark:text-white",children:t.nome}),r.jsx("td",{className:"px-4 py-2 text-gray-800 dark:text-white",children:t.email}),r.jsx("td",{className:"px-4 py-2 text-gray-800 dark:text-white",children:t.papel}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:"badge ".concat(t.ativo?"bg-green-200 text-green-800":"bg-red-200 text-red-800"),role:"status","aria-label":t.ativo?e("usuarios.ativo"):e("usuarios.inativo"),"data-testid":"usuario:status-".concat(t.id),children:t.ativo?e("usuarios.ativo","Ativo"):e("usuarios.inativo","Inativo")})})]},t.id)))})]})})]})}const J=[{key:"usuarios",path:ROUTES.ADMIN.USUARIOS,element:r.jsx(q,{}),meta:{id:"usuarios",order:1,title:"Usuários",icon:r.jsx(Users,{}),roles:["admin"],breadcrumb:"Gestão de Usuários"}}],G=n.lazy((()=>x((()=>import("./AdminRelatoriosPage-CNLlibVO.js")),__vite__mapDeps([9,2,1])))),W=[{path:"relatorios",element:r.jsx(G,{}),meta:{title:"Relatórios",icon:"bar-chart",roles:["admin"],breadcrumb:"Relatórios do Sistema"}}],K=n.lazy((()=>x((()=>import("./AdminCursosPage-D356ckzN.js")),__vite__mapDeps([10,2,1])))),H=[{path:"cursos",element:r.jsx(K,{}),meta:{title:"Cursos",icon:"book",roles:["admin","instrutor"],breadcrumb:"Gerenciar Cursos"}}],Q=n.lazy((()=>x((()=>import("./AdminPage-C2kpfJyT.js")),__vite__mapDeps([11,2,1,12,6,3])))),X=n.lazy((()=>x((()=>import("./AdminDashboardPage-M3iITTdY.js")),__vite__mapDeps([13,2,1])))),Y=[{path:"/admin",element:r.jsx(Q,{}),children:[{index:!0,element:r.jsx(X,{}),meta:{title:"Painel",icon:"dashboard",roles:["admin"],breadcrumb:"Painel Administrativo"}},...J,...W,...H,{path:"*",element:r.jsx(l,{to:"/admin",replace:!0}),meta:{hidden:!0}}]}],Z=n.lazy((()=>x((()=>import("./DefaultLayout-ETKIADNR.js")),__vite__mapDeps([14,2,1]))));n.lazy((()=>x((()=>import("./AdminLayout-BFsxYXjj.js")),__vite__mapDeps([15,2,1]))));const $={public:r.jsx(Z,{})};const ee={expirado:{pt:"⏰ Sessão expirada. Por favor, faça login novamente.",en:"⏰ Session expired. Please log in again."}};const te={titulo:"Acesso negado",mensagem:"Você não possui permissão para acessar esta área do sistema.",recomendacao:"Verifique se está autenticado e se possui permissões adequadas.",codigo:403},ae=new Map;function re(e,t=2e3){const a=Date.now();return!(a-(ae.get(e)||0)<t)&&(ae.set(e,a),!0)}function oe(e){const t=JSON.parse(localStorage.getItem("agroverso_logs")||"[]");t.push(e),localStorage.setItem("agroverso_logs",JSON.stringify(t))}function se(e){const t=function(e){const t={...e};return delete t.token,delete t.password,delete t.secret,t}(e),{level:a="info",message:r,stack:o,...s}=t;!function(e,t,a,r){var o;if(!(null==(o=window.Sentry)?void 0:o.captureException))return;const s=new Error(t);a&&(s.stack=a);window.Sentry["error"===e?"captureException":"captureMessage"](s,{level:e,extra:r})}(a,r,o,s),function(e,t,a,r){var o;if(!(null==(o=window.LogRocket)?void 0:o.log))return;window.LogRocket.log("[".concat(e.toUpperCase(),"] ").concat(t),{...r,...a&&{stack:a}})}(a,r,o,s),function(e,t,a,r){var o,s;if(!(null==(s=null==(o=window.DD_LOGS)?void 0:o.logger)?void 0:s[e]))return;window.DD_LOGS.logger[e](t,{...r,...a&&{stack:a}})}(a,r,o,s),function(e,t,a,r){if(!window.dataLayer)return;window.dataLayer.push({event:"logger_".concat(e),message:t,stack:a||"",...r})}(a,r,o,s)}const ne=(...e)=>se({level:"info",message:e.join(" ")});const ie=[];function le(e,t="ativo"){const{userRole:a,esperado:r,rota:o}=e;if("undefined"==typeof window)return;const s={traceId:"trace_".concat(Math.random().toString(36).substring(2,8),"_").concat(Date.now().toString(36)),userRole:a,expectedRoles:r,path:o,timestamp:(new Date).toISOString()};try{!function(e){if("undefined"!=typeof window)try{window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"acesso_negado_rbac",...e})}catch(t){}}(s)}catch(n){}try{!function(e){var t,a;if("undefined"!=typeof window)try{null==(a=null==(t=window.LogRocket)?void 0:t.track)||a.call(t,"rbac_block",e)}catch(n){}}(s)}catch(n){}try{!function(e){var t,a,r;if("undefined"!=typeof window)try{null==(r=null==(a=null==(t=window.DD_LOGS)?void 0:t.logger)?void 0:a.info)||r.call(a,"RBAC_BLOCK",e)}catch(n){}}(s)}catch(n){}ie.sort(((e,t)=>t.prioridade-e.prioridade)).forEach((({fn:e,silencioso:t})=>{try{e(s)}catch(n){if(!t)throw n}}))}const ce=null!=(e=te)?e:"/403",de=a.lazy((()=>x((()=>import("./AvisoRedirecionamento-CBtZwTVX.js")),__vite__mapDeps([12,2,1]))));const ue=({children:e,roles:t=[],visualFallback:o=null,mensagemFallback:s,fallback403:n=ce})=>{var i;const l=c(),{user:d,token:u,loading:m}=function({fallbackIfEmpty:e=!1}={}){const t=a.useContext(R);if(!t&&e)return{user:null,token:null,isAuthenticated:!1,loading:!1,error:null,login:()=>{},logout:()=>{},setError:()=>{},traceId:null};if(!t)throw new Error("[useAuth] Este hook deve ser usado dentro de <AuthProvider>.");return t}(),g=l.pathname,p=a.useMemo((()=>"string"==typeof t?[t]:t),[t]),f=null!=s?s:(x=g).startsWith("/admin")?ee.verificandoAdmin:x.startsWith("/user")?ee.verificandoUser:ee.verificandoPadrao;var x;const{erros:v}=function({token:e,user:t,roles:a=[]}){const r=[],o={status:null,mensagem:null};if(e)try{const{exp:t}=h(e);Date.now()>=1e3*t&&(localStorage.removeItem("token"),r.push("498"),o.status="498",o.mensagem="Token expirado")}catch(i){localStorage.removeItem("token"),r.push("498"),o.status="498",o.mensagem="Token malformado"}else r.push("401"),o.status="401",o.mensagem="Token ausente";const s=Array.isArray(null==t?void 0:t.roles)?t.roles:[null==t?void 0:t.role],n=0===a.length||a.some((e=>s.includes(e)));return t&&!n&&(r.push("403"),o.status="403",o.mensagem="Permissão negada para esta rota"),{autorizado:n,erros:r,tipoBloqueio:o}}({token:u,user:d,roles:p}),y=({mensagem:e,destino:t,tempo:o=3e3})=>r.jsx(a.Suspense,{fallback:r.jsx("div",{role:"status","aria-live":"assertive",className:"text-center py-4 text-gray-600 dark:text-gray-400",children:"Verificando acesso..."}),children:r.jsx(de,{tempo:o,destino:t,fallback:"/",mensagem:e})});if(m)return null!=o?o:y({mensagem:f});const j=new Set(v);if(j.has("401")||j.has("498"))return ne("[ProtectedRoute] Sessão inválida ou expirada",{token:u,rota:g}),y({mensagem:ee.expirado,destino:"/login"});if(j.has("403")){return le({userRole:null!=(i=null==d?void 0:d.role)?i:"__undefined__",esperado:p,rota:g}),y({mensagem:ee.negado,destino:n})}return o?r.jsx(a.Suspense,{fallback:o,children:e}):e},me={children:v.node.isRequired,roles:v.oneOfType([v.arrayOf(v.string),v.string]),visualFallback:v.node,mensagemFallback:v.string,fallback403:v.string};ue.propTypes=me,ue.defaultProps={roles:[],visualFallback:null,mensagemFallback:null,fallback403:"/403"},ue.displayName="ProtectedRoute";const ge=()=>r.jsx("div",{className:"flex h-screen w-full items-center justify-center text-lg text-gray-700",children:"Carregando…"}),pe=({children:e})=>{const t=c();return r.jsx(y,{mode:"wait",children:r.jsx(j.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.2},children:e},t.pathname)})};function he(){return a.useEffect((()=>{const e=setTimeout((()=>{x((()=>import("./CertificadosPage-DdQqldHH.js")),__vite__mapDeps([7,2,1])),x((()=>import("./ValidarPage-DgK_88AI.js")),__vite__mapDeps([8,2,1]))}),1200);return()=>clearTimeout(e)}),[]),r.jsxs(d,{children:[r.jsx(u,{element:r.jsx(a.Suspense,{fallback:r.jsx(ge,{}),children:$.public}),children:F.map(((e,t)=>r.jsx(u,{path:e.path,index:e.index,element:r.jsx(a.Suspense,{fallback:r.jsx(ge,{}),children:r.jsx(pe,{children:e.element})})},"public-".concat(t))))}),Y.map(((e,t)=>{var o;return r.jsx(u,{path:e.path,element:r.jsx(ue,{roles:["admin"],visualFallback:r.jsx(ge,{}),children:r.jsx(a.Suspense,{fallback:r.jsx(ge,{}),children:e.element})}),children:null==(o=e.children)?void 0:o.map(((e,t)=>r.jsx(u,{path:e.path,index:e.index,element:r.jsx(a.Suspense,{fallback:r.jsx(ge,{}),children:r.jsx(pe,{children:e.element})})},"admin-child-".concat(t))))},"admin-".concat(t))}))]})}const fe=a.createContext();function xe({children:e}){const[t,o]=a.useState("light");a.useEffect((()=>{const e=localStorage.getItem("theme");if("dark"===e||"light"===e)o(e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;o(e?"dark":"light")}}),[]),a.useEffect((()=>{const e=document.documentElement;e.classList.remove("dark"===t?"light":"dark"),e.classList.add(t),localStorage.setItem("theme",t)}),[t]);return r.jsx(fe.Provider,{value:{theme:t,toggleTheme:()=>{o((e=>"light"===e?"dark":"light"))}},children:e})}function ve({component:e="App",context:t="App Boot",offlineFallback:r=!0}={}){a.useEffect((()=>{JSON.parse(localStorage.getItem("agroverso_logs")||"[]").forEach((e=>se(e))),localStorage.removeItem("agroverso_logs");const a=(a,o,s,n,i)=>{if(!re("".concat(e,"::").concat(a)))return;const l={level:"error",message:a,stack:(null==i?void 0:i.stack)||"at ".concat(o,":").concat(s,":").concat(n),component:e,context:t,type:"window.onerror",timestamp:(new Date).toISOString()};try{se(l)}catch(c){r&&oe(l)}},o=a=>{const o=a.reason||{};if(!re("".concat(e,"::").concat(o.message||"Rejeição silenciosa")))return;const s={level:"error",message:o.message||"Rejeição de promessa não tratada",stack:o.stack||o.toString()||null,component:e,context:t,type:"unhandledrejection",timestamp:(new Date).toISOString()};try{se(s)}catch(n){r&&oe(s)}};return window.addEventListener("error",a),window.addEventListener("unhandledrejection",o),()=>{window.removeEventListener("error",a),window.removeEventListener("unhandledrejection",o)}}),[e,t,r])}function ye(){return ve({component:"App",context:"Inicialização da aplicação",offlineFallback:!0}),r.jsx(xe,{children:r.jsx(O,{children:r.jsx(m,{children:r.jsx(he,{})})})})}fe.displayName="ThemeContext";const je=document.getElementById("root");g.createRoot(je).render(r.jsx(n.StrictMode,{children:r.jsx(ye,{})})),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{})).catch((e=>{}))}));export{R as A,t as __vite_legacy_guard,B as u};
